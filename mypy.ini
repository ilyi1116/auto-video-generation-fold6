[mypy]
# 基本設定
python_version = 3.11
warn_return_any = True
warn_unused_configs = True
disallow_untyped_defs = False
disallow_incomplete_defs = False
check_untyped_defs = True
disallow_untyped_decorators = False

# 導入設定
ignore_missing_imports = True
follow_imports = silent
no_implicit_optional = True

# 錯誤設定
show_error_codes = True
show_column_numbers = True
show_error_context = True

# 嚴格設定（逐步啟用）
strict_optional = True
warn_redundant_casts = True
warn_unused_ignores = True

# 排除有連字號的服務目錄（無法作為 Python 模組）
[mypy-src.services.ai-service.*]
ignore_errors = True

[mypy-src.services.auth-service.*]
ignore_errors = True

[mypy-src.services.data-service.*]
ignore_errors = True

[mypy-src.services.inference-service.*]
ignore_errors = True

[mypy-src.services.api-gateway.*]
ignore_errors = True

[mypy-src.services.cache-service.*]
ignore_errors = True

[mypy-src.services.compliance-service.*]
ignore_errors = True

[mypy-src.services.data-ingestion.*]
ignore_errors = True

[mypy-src.services.graphql-gateway.*]
ignore_errors = True

[mypy-src.services.music-service.*]
ignore_errors = True

[mypy-src.services.payment-service.*]
ignore_errors = True

[mypy-src.services.scheduler-service.*]
ignore_errors = True

[mypy-src.services.social-service.*]
ignore_errors = True

[mypy-src.services.storage-service.*]
ignore_errors = True

[mypy-src.services.training-worker.*]
ignore_errors = True

[mypy-src.services.trend-service.*]
ignore_errors = True

[mypy-src.services.video-service.*]
ignore_errors = True

[mypy-src.services.voice-enhancement.*]
ignore_errors = True

# 對於一些複雜的第三方整合，暫時放寬檢查
[mypy-src.shared.security.*]
disallow_untyped_defs = False
disallow_incomplete_defs = False

[mypy-src.shared.error_handling.*]
disallow_untyped_defs = False
disallow_incomplete_defs = False

[mypy-src.shared.api.*]
disallow_untyped_defs = False
disallow_incomplete_defs = False