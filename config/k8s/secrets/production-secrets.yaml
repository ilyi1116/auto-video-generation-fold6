# =============================================================================
# ğŸ” AutoVideo ç”Ÿç”¢ç’°å¢ƒ Kubernetes Secrets é…ç½®
# =============================================================================
# 
# æ³¨æ„ï¼šæ­¤æ–‡ä»¶ç‚ºç¯„æœ¬é…ç½®ï¼Œå¯¦éš›éƒ¨ç½²æ™‚è«‹å‹¿åŒ…å«çœŸå¯¦å¯†é‘°å€¼
# ä½¿ç”¨å¯†é‘°ç®¡ç†æœå‹™æˆ–åŠ å¯†å·¥å…·è™•ç†æ•æ„Ÿè³‡è¨Š
#
# å‰µå»ºæ—¥æœŸ: 2025-08-05
# ç¶­è­·è€…: DevOps & Security Team
# =============================================================================

apiVersion: v1
kind: Namespace
metadata:
  name: autovideo-prod
  labels:
    name: autovideo-prod
    environment: production
    security-level: high
---
# =============================================================================
# JWT èªè­‰å¯†é‘° - ä½¿ç”¨ RSA éå°ç¨±åŠ å¯†
# =============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: jwt-secrets
  namespace: autovideo-prod
  labels:
    app: autovideo
    component: auth
    environment: production
  annotations:
    kubernetes.io/description: "JWT RSA å¯†é‘°å°ç”¨æ–¼ token ç°½åå’Œé©—è­‰"
type: Opaque
data:
  # Base64 ç·¨ç¢¼çš„ RSA 2048 ç§é‘° - è«‹ä½¿ç”¨å¯¦éš›ç”Ÿæˆçš„å¯†é‘°
  jwt-private-key: LS0tLS1CRUdJTi...BASE64_ENCODED_PRIVATE_KEY...LS0tLS0K
  # Base64 ç·¨ç¢¼çš„ RSA 2048 å…¬é‘° - è«‹ä½¿ç”¨å¯¦éš›ç”Ÿæˆçš„å¯†é‘°
  jwt-public-key: LS0tLS1CRUdJTi...BASE64_ENCODED_PUBLIC_KEY...LS0tLS0K
---
# =============================================================================
# è³‡æ–™åº«é€£æ¥å¯†é‘°
# =============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: database-secrets
  namespace: autovideo-prod
  labels:
    app: autovideo
    component: database
    environment: production
  annotations:
    kubernetes.io/description: "è³‡æ–™åº«é€£æ¥å¯†ç¢¼å’Œé€£æ¥å­—ä¸²"
type: Opaque
stringData:
  # PostgreSQL ä¸»è³‡æ–™åº«å¯†ç¢¼ - 32ä½å¼·éš¨æ©Ÿå¯†ç¢¼
  postgres-password: "REPLACE_WITH_GENERATED_32_CHAR_PASSWORD"
  # Redis å¿«å–å¯†ç¢¼ - 32ä½å¼·éš¨æ©Ÿå¯†ç¢¼
  redis-password: "REPLACE_WITH_GENERATED_32_CHAR_PASSWORD"
  # å®Œæ•´çš„è³‡æ–™åº«é€£æ¥ URL (åŒ…å« SSL è¨­ç½®)
  postgres-url: "postgresql://autovideo:POSTGRES_PASSWORD@postgres-primary:5432/autovideo_prod?sslmode=require&pool_min_conns=5&pool_max_conns=20"
  # Redis é€£æ¥ URL
  redis-url: "redis://:REDIS_PASSWORD@redis-primary:6379/0"
  # è³‡æ–™åº«é€£æ¥æ± é…ç½®
  db-pool-size: "20"
  db-max-overflow: "30"
  db-pool-timeout: "30"
---
# =============================================================================
# AI æœå‹™ API å¯†é‘°
# =============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: ai-api-secrets
  namespace: autovideo-prod
  labels:
    app: autovideo
    component: ai-services
    environment: production
  annotations:
    kubernetes.io/description: "ç¬¬ä¸‰æ–¹ AI æœå‹™ API å¯†é‘°"
type: Opaque
stringData:
  # OpenAI API å¯†é‘°å’Œçµ„ç¹” ID
  openai-api-key: "sk-REPLACE_WITH_ACTUAL_OPENAI_API_KEY"
  openai-org-id: "org-REPLACE_WITH_ACTUAL_ORG_ID"
  # Google Gemini API å¯†é‘°å’Œå°ˆæ¡ˆ ID
  gemini-api-key: "REPLACE_WITH_ACTUAL_GEMINI_API_KEY"
  gemini-project-id: "REPLACE_WITH_ACTUAL_PROJECT_ID"
  # Suno AI API å¯†é‘°
  suno-api-key: "REPLACE_WITH_ACTUAL_SUNO_API_KEY"
  suno-org-id: "REPLACE_WITH_ACTUAL_SUNO_ORG_ID"
  # Stable Diffusion API å¯†é‘°
  stable-diffusion-api-key: "REPLACE_WITH_ACTUAL_SD_API_KEY"
  # Anthropic Claude API å¯†é‘°
  anthropic-api-key: "REPLACE_WITH_ACTUAL_ANTHROPIC_API_KEY"
---
# =============================================================================
# é›²ç«¯å­˜å„²å¯†é‘°
# =============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: storage-secrets
  namespace: autovideo-prod
  labels:
    app: autovideo
    component: storage
    environment: production
  annotations:
    kubernetes.io/description: "é›²ç«¯å­˜å„²æœå‹™æ†‘è­‰"
type: Opaque
stringData:
  # AWS S3 æ†‘è­‰
  aws-access-key-id: "REPLACE_WITH_ACTUAL_AWS_ACCESS_KEY"
  aws-secret-access-key: "REPLACE_WITH_ACTUAL_AWS_SECRET_KEY"
  aws-region: "us-west-2"
  aws-s3-bucket: "autovideo-prod-storage"
  # CloudFlare R2 å‚™ç”¨å­˜å„²
  cloudflare-r2-access-key: "REPLACE_WITH_ACTUAL_R2_ACCESS_KEY"
  cloudflare-r2-secret-key: "REPLACE_WITH_ACTUAL_R2_SECRET_KEY"
  cloudflare-r2-endpoint: "https://ACCOUNT_ID.r2.cloudflarestorage.com"
  cloudflare-r2-bucket: "autovideo-prod-r2"
---
# =============================================================================
# æ”¯ä»˜è™•ç†å¯†é‘°
# =============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: payment-secrets
  namespace: autovideo-prod
  labels:
    app: autovideo
    component: payment
    environment: production
  annotations:
    kubernetes.io/description: "æ”¯ä»˜è™•ç†æœå‹™å¯†é‘°"
type: Opaque
stringData:
  # Stripe æ”¯ä»˜å¯†é‘°
  stripe-publishable-key: "pk_live_REPLACE_WITH_ACTUAL_STRIPE_PUBLISHABLE_KEY"
  stripe-secret-key: "sk_live_REPLACE_WITH_ACTUAL_STRIPE_SECRET_KEY"
  stripe-webhook-secret: "whsec_REPLACE_WITH_ACTUAL_WEBHOOK_SECRET"
  # PayPal æ†‘è­‰
  paypal-client-id: "REPLACE_WITH_ACTUAL_PAYPAL_CLIENT_ID"
  paypal-client-secret: "REPLACE_WITH_ACTUAL_PAYPAL_CLIENT_SECRET"
  paypal-mode: "live"
---
# =============================================================================
# é€šçŸ¥æœå‹™å¯†é‘°
# =============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: notification-secrets
  namespace: autovideo-prod
  labels:
    app: autovideo
    component: notification
    environment: production
  annotations:
    kubernetes.io/description: "éƒµä»¶å’Œæ¨é€é€šçŸ¥æœå‹™å¯†é‘°"
type: Opaque
stringData:
  # SMTP éƒµä»¶æœå‹™é…ç½®
  smtp-host: "smtp.gmail.com"
  smtp-port: "587"
  smtp-user: "noreply@autovideo.com"
  smtp-password: "REPLACE_WITH_ACTUAL_SMTP_PASSWORD"
  smtp-from-email: "AutoVideo <noreply@autovideo.com>"
  # Firebase Cloud Messaging
  fcm-server-key: "REPLACE_WITH_ACTUAL_FCM_SERVER_KEY"
  # æ¨é€é€šçŸ¥æœå‹™å¯†é‘°
  push-notification-key: "REPLACE_WITH_ACTUAL_PUSH_KEY"
---
# =============================================================================
# ç›£æ§å’Œæ—¥èªŒå¯†é‘°
# =============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: monitoring-secrets
  namespace: autovideo-prod
  labels:
    app: autovideo
    component: monitoring
    environment: production
  annotations:
    kubernetes.io/description: "ç›£æ§ã€æ—¥èªŒå’ŒéŒ¯èª¤è¿½è¹¤æœå‹™å¯†é‘°"
type: Opaque
stringData:
  # Sentry éŒ¯èª¤è¿½è¹¤
  sentry-dsn: "https://REPLACE_WITH_ACTUAL_SENTRY_DSN@sentry.io/PROJECT_ID"
  sentry-environment: "production"
  sentry-release: "v1.0.0"
  # Grafana Cloud æˆ–å…¶ä»–ç›£æ§æœå‹™
  grafana-api-key: "REPLACE_WITH_ACTUAL_GRAFANA_API_KEY"
  # æ—¥èªŒèšåˆæœå‹™ (å¦‚ LogDNA, Datadog)
  log-service-key: "REPLACE_WITH_ACTUAL_LOG_SERVICE_KEY"
---
# =============================================================================
# æ‡‰ç”¨ç¨‹å¼æ ¸å¿ƒå¯†é‘°
# =============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: app-core-secrets
  namespace: autovideo-prod
  labels:
    app: autovideo
    component: core
    environment: production
  annotations:
    kubernetes.io/description: "æ‡‰ç”¨ç¨‹å¼æ ¸å¿ƒåŠ å¯†å’Œæœƒè©±å¯†é‘°"
type: Opaque
stringData:
  # æ‡‰ç”¨ç¨‹å¼ä¸»å¯†é‘° - 64ä½éš¨æ©Ÿç”Ÿæˆ
  app-secret-key: "REPLACE_WITH_64_CHAR_APP_SECRET_KEY"
  # æœƒè©±åŠ å¯†å¯†é‘° - 32ä½éš¨æ©Ÿç”Ÿæˆ
  session-secret: "REPLACE_WITH_32_CHAR_SESSION_SECRET"
  # è³‡æ–™åŠ å¯†å¯†é‘° - 32ä½éš¨æ©Ÿç”Ÿæˆ
  encryption-key: "REPLACE_WITH_32_CHAR_ENCRYPTION_KEY"
  # Cookie ç°½åå¯†é‘°
  cookie-secret: "REPLACE_WITH_32_CHAR_COOKIE_SECRET"
  # CSRF ä¿è­·å¯†é‘°
  csrf-secret: "REPLACE_WITH_32_CHAR_CSRF_SECRET"
---
# =============================================================================
# æœå‹™ç™¼ç¾å’Œè¨»å†Šå¯†é‘°
# =============================================================================
apiVersion: v1  
kind: Secret
metadata:
  name: service-registry-secrets
  namespace: autovideo-prod
  labels:
    app: autovideo
    component: service-discovery
    environment: production
  annotations:
    kubernetes.io/description: "æœå‹™ç™¼ç¾å’Œè¨»å†Šä¸­å¿ƒå¯†é‘°"
type: Opaque
stringData:
  # Consul æœå‹™ç™¼ç¾
  consul-gossip-key: "REPLACE_WITH_BASE64_GOSSIP_KEY"
  consul-master-token: "REPLACE_WITH_CONSUL_MASTER_TOKEN"
  # æœå‹™ç¶²æ ¼èªè­‰
  service-mesh-ca-cert: "REPLACE_WITH_SERVICE_MESH_CA_CERT"
  service-mesh-ca-key: "REPLACE_WITH_SERVICE_MESH_CA_KEY"
---
# =============================================================================
# å‚™ä»½å’Œç½é›£æ¢å¾©å¯†é‘°
# =============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: backup-secrets
  namespace: autovideo-prod
  labels:
    app: autovideo
    component: backup
    environment: production
  annotations:
    kubernetes.io/description: "å‚™ä»½å’Œç½é›£æ¢å¾©æœå‹™å¯†é‘°"
type: Opaque
stringData:
  # å‚™ä»½å­˜å„²æ†‘è­‰
  backup-s3-access-key: "REPLACE_WITH_BACKUP_S3_ACCESS_KEY"
  backup-s3-secret-key: "REPLACE_WITH_BACKUP_S3_SECRET_KEY"
  backup-s3-bucket: "autovideo-backups-prod"
  # å‚™ä»½åŠ å¯†å¯†é‘°
  backup-encryption-key: "REPLACE_WITH_BACKUP_ENCRYPTION_KEY"
  # ç½é›£æ¢å¾©å€åŸŸé…ç½®
  dr-region: "eu-west-1"
  dr-s3-bucket: "autovideo-dr-prod"